<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    <PreferenceCategory
        android:key="xdrip_plus_category"
        android:title="@string/xdrip_plus_extra_settings"/>
    <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
        android:icon="@drawable/ic_chart_areaspline_grey600_48dp"
        android:key="xdrip_plus_display_settings"
        android:summary="@string/display_customisations"
        android:title="@string/xdrip_plus_display_settings">

        <PreferenceCategory
            android:key="xdrip_plus_display_category"
            android:title="@string/xdrip_plus_display_settings">
            <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
                xmlns:app="http://schemas.android.com/apk/res-auto"

                android:icon="@drawable/ic_palette_grey600_48dp"
                android:key="xdrip_plus_color_settings"
                android:summary="@string/customize_colours"
                android:title="@string/xdrip_plus_color_settings">

                <com.eveningoutpost.dexdrip.utils.ExampleChartPreferenceView
                    android:key="example_chart"
                    android:summary=""
                    android:title="@string/example_chart" />

                <PreferenceCategory
                    android:key="xdrip_plus_display_colorset1"
                    android:title="@string/glucose_values_and_lines">

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#FFBB33"
                        android:key="color_high_values"
                        android:title="@string/high_glucose_values"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />
                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#33B5E6"
                        android:key="color_inrange_values"
                        android:title="@string/in_range_glucose_values"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#C30909"
                        android:key="color_low_values"
                        android:title="Low Glucose Values"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#a0a0a0"
                        android:key="color_filtered"
                        android:title="Filtered Values"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />
                </PreferenceCategory>

                <PreferenceCategory
                    android:key="xdrip_plus_display_colorset2"
                    android:title="@string/treatments_prediction_curves">
                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#77aa00"
                        android:key="color_treatment"
                        android:title="Treatment Color"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />
                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#334400"
                        android:key="color_treatment_dark"
                        android:title="Treatment Color Dark"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />
                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#AA66CC"
                        android:key="color_predictive"
                        android:title="Predictive Color"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />
                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#7700aa"
                        android:key="color_predictive_dark"
                        android:title="Predictive Color Dark"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />


                </PreferenceCategory>

                <PreferenceCategory
                    android:key="xdrip_plus_display_colorset3"
                    android:title="Average and Target Lines">

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#558800"
                        android:key="color_average1_line"
                        android:title="8 Hour Average Line"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />
                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#c56f9d"
                        android:key="color_average2_line"
                        android:title="24 Hour Average Line"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />
                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#a4a409"
                        android:key="color_target_line"
                        android:title="Glucose Target Line"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />
                </PreferenceCategory>

                <PreferenceCategory
                    android:key="xdrip_plus_display_colorset4"
                    android:title="Annotations and Dots">

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#FFFFFF"
                        android:key="color_calibration_dot_background"
                        android:title="Blood Test Background"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#FF4444"
                        android:key="color_calibration_dot_foreground"
                        android:title="Blood Test Foreground"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#FFFFFF"
                        android:key="color_treatment_dot_background"
                        android:title="Treatment Background"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#77aa00"
                        android:key="color_treatment_dot_foreground"
                        android:title="Treatment Foreground"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />

                </PreferenceCategory>
                <PreferenceCategory
                    android:key="xdrip_plus_display_colorset5"
                    android:title="Backgrounds">
                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#212121"
                        android:key="color_home_chart_background"
                        android:title="Main Chart Background"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#00000000"
                        android:key="color_notification_chart_background"
                        android:title="Notification Chart Background"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />

                    <com.eveningoutpost.dexdrip.UtilityModels.ColorPicker
                        android:defaultValue="#00000000"
                        android:key="color_widget_chart_background"
                        android:title="Widget Chart Background"
                        app:colorpicker_noneSelectedSummaryText="@string/default_color_selected"
                        app:colorpicker_selectNoneButtonText="Revert to Default"
                        app:colorpicker_showHex="false" />
                </PreferenceCategory>
            </PreferenceScreen>

            <SwitchPreference
                android:defaultValue="false"
                android:title="Force English Text"
                android:summary="Do not use crowd-sourced local language text within xDrip+"
                android:key="force_english">
            </SwitchPreference>

            <SwitchPreference
                android:defaultValue="true"
                android:key="bg_compensate_noise"
                android:summary="Try to work around noisy readings"
                android:title="\u26A0 Smooth sensor noise" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:key="show_showcase"
                android:summary="Show tips / hints describing button functions etc. Uncheck and Recheck to reset to the beginning"
                android:title="Show interface hints" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="bg_from_filtered"
                android:summary="Delayed but more stable when noisy"
                android:title="Glucose number from Filtered" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:key="show_graph_grid_time"
                android:summary="Grid time lines visible"
                android:title="Show Graph grid time lines" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:key="show_graph_grid_glucose"
                android:summary="Grid glucose lines visible"
                android:title="Show Graph grid glucose lines" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:key="show_filtered_curve"
                android:summary="Useful for noise and missed readings"
                android:title="Display filtered plot" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:key="show_raw_plot"
                android:summary="The standard xDrip calculated values"
                android:title="Display raw data plot" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="show_target_line"
                android:summary="Display ideal glucose target line"
                android:title="Show Graph target line" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:key="show_recent_average_line"
                android:summary="Display 8 hour average line"
                android:title="Show Graph recent average" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="show_full_average_line"
                android:summary="Display 24 hour average line"
                android:title="Show Graph total average" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="show_momentum_working_line"
                android:summary="Predictive model inner workings"
                android:title="Show Momentum working curve" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="show_noise_workings"
                android:summary="Noise model inner workings"
                android:title="Show Noise workings" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="always_show_bwp"
                android:summary="Display Insulin/Carb calculations at all times"
                android:title="Always show Bolus Wizard Preview" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:key="plus_extra_features"
                android:summary="Show extra and alpha test features"
                android:title="Parakeet and Extra test features" />

        </PreferenceCategory>
    </PreferenceScreen>

    <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
        android:dependency="I_understand"
        android:icon="@drawable/ic_auto_fix_grey600_48dp"
        android:key="xdrip_plus_profile_settings"
        android:summary="@string/insulin_carb_ratios_etc_for_models"
        android:title="@string/xdrip_plus_prediction_settings">


        <PreferenceCategory
            android:key="xdrip_plus_profile_category"
            android:title="@string/xdrip_plus_prediction_settings">

            <Preference
                android:defaultValue="10"
                android:key="profile_carb_ratio_default"
                android:summary="@string/grams_of_carbohydrate_one_unit_covers"
                android:title="Carb Ratio">
                <intent
                    android:action="android.intent.action.MAIN"
                    android:targetClass="com.eveningoutpost.dexdrip.profileeditor.ProfileEditor"
                    android:targetPackage="@string/local_target_package"></intent>
            </Preference>
            <Preference
                android:defaultValue="54"
                android:key="profile_insulin_sensitivity_default"
                android:summary="@string/glucose_drop_for_one_unit"
                android:title="Insulin Sensitivity">
                <intent
                    android:action="android.intent.action.MAIN"
                    android:targetClass="com.eveningoutpost.dexdrip.profileeditor.ProfileEditor"
                    android:targetPackage="@string/local_target_package"></intent>
            </Preference>
            <EditTextPreference
                android:defaultValue="35"
                android:key="profile_carb_absorption_default"
                android:summary="@string/linear_model_carbs_absorbed_per_hour"
                android:title="@string/carb_absorption_rate" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:key="predict_use_momentum"
                android:summary="@string/calculate_including_glucose_trend"
                android:title="@string/use_trend_momentum" />

        </PreferenceCategory>
        <PreferenceCategory
            android:key="title_I_understandb"
            android:title="EULA">
            <Preference
                android:key="I_understandb"
                android:summary="@string/not_for_medical_use"
                android:title="@string/end_user_license_agreement">
                <intent
                    android:action="android.intent.action.MAIN"
                    android:targetClass="com.eveningoutpost.dexdrip.LicenseAgreementActivity"
                    android:targetPackage="@string/local_target_package" />
            </Preference>
        </PreferenceCategory>

        <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
            android:dependency="I_understand"
            android:key="xdrip_plus_adv_predict"
            android:summary="@string/deel_settings_for_algs"
            android:title="Low level prediction values">


            <PreferenceCategory
                android:key="xdrip_plus_adv_predict_cat"
                android:title="@string/low_level_prediction_values">
                <EditTextPreference
                    android:defaultValue="3.0"
                    android:key="xplus_insulin_dia"
                    android:summary=""
                    android:title="Insulin duration in hours" />

                <EditTextPreference
                    android:defaultValue="2"
                    android:key="xplus_liver_sensitivity"
                    android:summary=""
                    android:title="Default Liver Sensitivity Ratio" />
                <EditTextPreference
                    android:defaultValue="0.8"
                    android:key="xplus_liver_maximpact"
                    android:summary=""
                    android:title="Default Liver Maximum Impact (0-1)" />
            </PreferenceCategory>
        </PreferenceScreen>


    </PreferenceScreen>

    <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
        android:dependency="I_understand"
        android:icon="@drawable/ic_google_circles_communities_grey600_48dp"
        android:key="xdrip_plus_sync_settings"
        android:summary="@string/settings_for_syncing"
        android:title="@string/xdrip_plus_sync_settings">


        <PreferenceCategory
            android:key="xdrip_plus_sync_category"
            android:title="xDrip+ Sync settings">

            <CheckBoxPreference
                android:defaultValue="true"
                android:key="use_custom_sync_key"
                android:summary="Key is used instead of Google account"
                android:title="Sync using custom security key" />
            <EditTextPreference
                android:defaultValue=""
                android:key="custom_sync_key"
                android:summary="Handset sync grouping key"
                android:title="Handset Group Security Sync Key" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:dependency="plus_extra_features"
                android:key="plus_follow_master"
                android:summary="@string/this_device_will_send_data_to_followers"
                android:title="@string/be_master_for_followers" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:dependency="plus_follow_master"
                android:key="plus_follow_geolocation"
                android:summary="@string/send_parakeet_map_location_to_followers"
                android:title="@string/sync_parakeet_geolocation" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="disable_all_sync"
                android:summary="@string/temporary_work_around_disable_all_sync_detail"
                android:title="@string/disable_all_sync_features" />
        </PreferenceCategory>
    </PreferenceScreen>

    <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
        android:icon="@drawable/ic_briefcase_download_grey600_48dp"
        android:key="xdrip_plus_update_settings"
        android:summary="@string/automatic_updates_crash_reports_and_feedback"
        android:title="@string/xdrip_plus_update_settings">
        <SwitchPreference
            android:defaultValue="true"
            android:key="auto_update_download"
            android:summary="@string/get_notified_of_new_apk_releases"
            android:title="@string/automatic_update_check" />
        <ListPreference
            android:defaultValue="beta"
            android:dependency="auto_update_download"
            android:entries="@array/UpdateChannelDetail"
            android:entryValues="@array/UpdateChannel"
            android:key="update_channel"
            android:shouldDisableView="true"
            android:summary="@string/choose_stable_beta_or_alpha_releases"
            android:title="@string/update_channel" />
        <CheckBoxPreference
            android:defaultValue="true"
            android:key="enable_crashlytics"
            android:summary="@string/send_crash_errors_to_developer"
            android:title="@string/automatic_crash_reporting" />
        <Preference
            android:key="send_feedback"
            android:summary="@string/web_feedback_form_for_sending_messages"
            android:title="@string/send_feedback_message">
            <intent android:action="xdrip_plus_send_developer_feedback" />
        </Preference>
    </PreferenceScreen>

    <PreferenceCategory
        android:key="xdrip_plus_move_settings"
        android:title="@string/copying_settings">
        <Preference
            android:icon="@drawable/ic_qrcode_grey600_48dp"
            android:key="show_qr_codes"
            android:title="@string/show_settings_qr_codes">
            <intent
                android:action="android.intent.action.MAIN"
                android:targetClass="com.eveningoutpost.dexdrip.utils.DisplayQRCode"
                android:targetPackage="@string/local_target_package" />
        </Preference>
        <Preference
            android:icon="@drawable/ic_content_save_grey600_48dp"
            android:key="show_external_save"
            android:title="@string/load_save_settings_to_sdcard">
            <intent
                android:action="android.intent.action.MAIN"
                android:targetClass="com.eveningoutpost.dexdrip.utils.SdcardImportExport"
                android:targetPackage="@string/local_target_package" />
        </Preference>
    </PreferenceCategory>
</PreferenceScreen>
